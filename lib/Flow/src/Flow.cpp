#include "Flow.h"

const double FLOW_ARRAY[50] = {
7.592149983879712,
7.542174554650407,
7.586225049221864,
7.544010617993693,
7.57429788360668,
7.577668232978813,
7.565631704853425,
7.503763283151553,
7.474185409048857,
7.514691477930241,
7.5181903383513315,
7.533378988302205,
7.56273422643672,
7.58036568855541,
7.5663918264927394,
7.5416572213399995,
7.517992097404963,
7.520618826393983,
7.475494107768065,
7.519419832716938,
7.560194340166445,
7.535843595646712,
7.515104445486961,
7.58900576298184,
7.499916472690831,
7.560137051486172,
7.540096420537678,
7.53332692890534,
7.498512623776461,
7.509771280664299,
7.614867475984614,
7.546902841821784,
7.528397993499163,
7.4103272255350054,
7.556559034441741,
7.60269229119959,
7.530279810891023,
7.663392136541483,
7.545908554886209,
7.618240185822488,
7.549717321153298,
7.555841727784131,
7.62032857464698,
7.599627149537434,
7.565735862962946,
7.453395001774433,
7.69583758541514,
7.558441166778906,
7.57039781552642,
7.613018820798393,
};

void FlowSensor::init() {
    this->lastIndex = 0;
    for (int i = 0; i < 50; i++) {
        this->flowArray[i] = FLOW_ARRAY[i];
    }
}

double FlowSensor::getFlow() {
    int ind = this->lastIndex % 50;
    this->lastIndex++;
    return this->flowArray[ind];
}